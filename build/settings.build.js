(()=>{"use strict";var e={n:s=>{var t=s&&s.__esModule?()=>s.default:()=>s;return e.d(t,{a:t}),t},d:(s,t)=>{for(var n in t)e.o(t,n)&&!e.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:t[n]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.React;var t=e.n(s);const n=window.wp.element,a=window.wp.i18n,i=window.wp.components,r=window.wp.primitives,p=window.ReactJSXRuntime,o=(0,p.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(r.Path,{d:"M4 9v1.5h16V9H4zm12 5.5h4V13h-4v1.5zm-6 0h4V13h-4v1.5zm-6 0h4V13H4v1.5z"})}),l=window.wp.apiFetch;var c=e.n(l);const d=()=>{const{baseUrl:e,setBaseUrl:s,apiUsername:r,setApiUsername:l,apiPassword:d,setApiPassword:_,isSaving:w,setIsSaving:h,message:u,setMessage:g,saveSettings:m}=(()=>{const[e,s]=(0,n.useState)(""),[t,i]=(0,n.useState)(""),[r,p]=(0,n.useState)(""),[o,l]=(0,n.useState)(!1),[d,_]=(0,n.useState)("");return(0,n.useEffect)((()=>{c()({path:"/wp/v2/settings"}).then((e=>{const t=e;s(t.spire_sync.base_url||""),i(t.spire_sync.api_username||""),p(t.spire_sync.api_password||"")}))}),[]),{baseUrl:e,setBaseUrl:s,apiUsername:t,setApiUsername:i,apiPassword:r,setApiPassword:p,isSaving:o,setIsSaving:l,message:d,setMessage:_,saveSettings:()=>{l(!0),_(""),c()({path:"/wp/v2/settings",method:"POST",data:{spire_sync:{base_url:e,api_username:t,api_password:r}}}).then((()=>{_((0,a.__)("Settings saved successfully.","spire-sync")),l(!1)})).catch((e=>{_((0,a.__)("Error saving settings.","spire-sync")),l(!1),console.error(e)}))}}})();return(0,p.jsxs)("div",{className:"spire-sync-settings-container",children:[(0,p.jsx)("h1",{children:(0,a.__)("Spire Sync Settings","spire-sync")}),u&&(0,p.jsx)(i.Notice,{status:"success",isDismissible:!1,children:u}),(0,p.jsx)(i.Panel,{header:"Settings",children:(0,p.jsx)(t().Fragment,{children:(0,p.jsxs)(i.PanelBody,{title:(0,a.__)("API Settings","spire-sync"),initialOpen:!0,icon:o,children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.__experimentalInputControl,{__next40pxDefaultSize:!0,label:(0,a.__)("Base URL","spire-sync"),value:e,onChange:e=>s(e||""),help:(0,a.__)("Enter the base URL for the Spire API (e.g., http://example.com/api/v2)","spire-sync"),style:{width:"400px"}})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.__experimentalInputControl,{__next40pxDefaultSize:!0,label:(0,a.__)("API Username","spire-sync"),value:r,onChange:e=>l(e||""),style:{width:"400px"}})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.__experimentalInputControl,{__next40pxDefaultSize:!0,label:(0,a.__)("API Password","spire-sync"),type:"password",value:d,onChange:e=>_(e||""),style:{width:"400px"}})})]})},"0")}),(0,p.jsx)(i.Button,{variant:"primary",onClick:m,disabled:w,children:w?(0,a.__)("Saving...","spire-sync"):(0,a.__)("Save Settings","spire-sync")})]})};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("spire-sync-settings-root");e&&(0,n.createRoot)(e).render((0,p.jsx)(d,{}))}))})();